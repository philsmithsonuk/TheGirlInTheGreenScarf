<?xml version="1.0"?>
<layout>
	
	<default>
		<reference name="head">
			 // lets remove the original Ajax Cart Pro js, we will not be modifying the original code in /js/aw_ajaxcartpro folder
			 // this is to prevent breaking the default layout if we change the package
			 <action method="removeItem"><type>js</type><name>aw_ajaxcartpro/ajaxcartpro-1.4.6.js</name></action>
			 <action method="removeItem"><type>js</type><name>aw_ajaxcartpro/ajaxcartpro-community-1.4.6.js</name></action>
			 // now lets add our customized Ajax Cart Pro js from the gs-default package
			 <action method="addItem"><type>skin_js</type><name>js/aw_ajaxcartpro/ajaxcartpro-1.4.6.js</name></action>
			 <action method="addItem"><type>skin_js</type><name>js/aw_ajaxcartpro/ajaxcartpro-community-1.4.6.js</name></action>
		</reference>
		
		<reference name="root">
			<reference name="top.links">
				<!-- Add the Signup Link to top links in the header block -->
				<action method="addLink" translate="label title">
					<label>SIGN UP FOR EMAIL</label>
					<url helper="core/url/getHomeUrl"/>
					<title>SIGN UP FOR EMAIL</title>
					<prepare/>
					<urlParams/>
					<position>99</position>
					<liParams/>
					<beforeText></beforeText>
					<afterText><![CDATA[<span>|</span>]]></afterText>
				</action>
				<remove name="wishlist_link"/>
				<remove name="checkout_cart_link"/>
			</reference>
			<reference name="footer">
				<block type="newsletter/subscribe" before="-" name="newsletter" template="newsletter/subscribe.phtml"/>
			</reference>
		</reference>
		
		<reference name="left">
			<action method="unsetChild"><name>left.newsletter</name></action>
		</reference>
		
		<reference name="header">
			<action method="unsetChild"><name>cart_sidebar</name></action>
		</reference>
		
        <reference name="header">
            <block type="checkout/cart_sidebar" name="cart_sidebar" template="checkout/cart/sidebar.phtml" before="-">
                <action method="addItemRender"><type>simple</type><block>checkout/cart_item_renderer</block><template>checkout/cart/sidebar/default.phtml</template></action>
                <action method="addItemRender"><type>grouped</type><block>checkout/cart_item_renderer_grouped</block><template>checkout/cart/sidebar/default.phtml</template></action>
                <action method="addItemRender"><type>configurable</type><block>checkout/cart_item_renderer_configurable</block><template>checkout/cart/sidebar/default.phtml</template></action>
                <block type="core/text_list" name="cart_sidebar.extra_actions" as="extra_actions" translate="label" module="checkout">
                    <label>Shopping Cart Sidebar Extra Actions</label>
                </block>
            </block>
        </reference>

	</default>

	<customer_logged_out>
		<!-- Removes 'Log In' link - Default position: 60 -->
		<reference name="top.links">
			<action method="removeLinkByUrl"><url helper="customer/getLoginUrl"/></action>
		</reference>
	</customer_logged_out>

	<customer_logged_in>
		<!-- Removes 'Log Out' link - Default position: 60 -->
		<reference name="top.links">
			<action method="removeLinkByUrl"><url helper="customer/getLogoutUrl"/></action>
		</reference>
	</customer_logged_in>

    <catalog_product_view>
        <reference name="root">
            <action method="setTemplate"><template>page/gs-2columns-right.phtml</template></action>
        </reference>
    </catalog_product_view>
	

</layout>
